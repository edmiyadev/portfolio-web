---
import Data  from '../data/PersonalData.json';

const { experience } = Data;
---

<section id="experience" class="py-20 bg-gray-900">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4">Experiencia <span class="text-purple-500">Laboral</span></h2>
      <p class="text-gray-400 max-w-2xl mx-auto">Mi trayectoria profesional como desarrollador, mostrando mi crecimiento y experiencia en diversas tecnolog√≠as.</p>
    </div>
    
    <div class="max-w-4xl mx-auto">
      <div class="relative border-l-2 border-purple-500 pl-8 ml-4">
        {experience.map((experience) => (
          <div class="mb-12 relative experience-item opacity-0">
            <div class="absolute -left-12.5 mt-1.5 h-8 w-8 rounded-full border-4 border-gray-900 bg-purple-500"></div>
            <div class="bg-gray-800 rounded-lg p-6 border border-gray-700 shadow-lg transform transition-all duration-300 hover:-translate-y-1 hover:shadow-purple-500/20">
              <div class="flex flex-wrap justify-between items-start mb-2">
                <h3 class="text-xl font-bold text-white">{experience.title}</h3>
                <span class="text-purple-500 font-medium text-sm px-3 py-1 bg-purple-500/10 rounded-full">{experience.period}</span>
              </div>
              <p class="text-gray-300 mb-3">{experience.company}</p>
              <p class="text-gray-400 mb-4">{experience.description}</p>
              <div class="flex flex-wrap gap-2">
                {experience.skills.map(skill => (
                  <span class="px-3 py-1 bg-gray-700 text-gray-300 text-xs font-medium rounded-full">{skill}</span>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const experienceItems = document.querySelectorAll('.experience-item');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          setTimeout(() => {
            entry.target.classList.add('fade-in');
            (entry.target as HTMLElement).style.opacity = '1'; // Cast to HTMLElement
          }, index * 200);
        }
      });
    }, { threshold: 0.1 });
    
    experienceItems.forEach(item => {
      observer.observe(item);
    });
  });
</script>

